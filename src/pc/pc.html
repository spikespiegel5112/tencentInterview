<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no"/>
    <title>Title</title>
    <link rel="stylesheet" href="assets/css/reset.css"/>
    <link rel="stylesheet" href="css/common.css"/>
</head>
<body>
<div class="common_main_container">
    <div class="header" id="level0">
        <div class="inner">
            <div class="logo">
                <ul>
                    <li class="lol">
                        <a></a>
                    </li>
                    <li class="daojucheng">
                        <a></a>
                    </li>
                </ul>
            </div>
            <div class="login">
                <a>您好，请登录</a>
            </div>
        </div>
    </div>
    <div class="banner">
        <div class="sologen">
            <ul>
                <li class="title1">
                    <img src="image/title_1_00000.png"/>
                </li>
                <li class="title2">
                    <img src="image/title_2_00000.png"/>
                </li>
            </ul>
        </div>
        <div class="desc">
            <p class="content1">每位玩家在神秘商店都有1次抽折扣购买指定道具的机会</p>
            <p class="content2">如果你拥有神秘钥匙，将会获得双重打折机会！</p>
            <p class="date">
                <label><span>开启时间</span><i></i></label>
                <span>
                    2014年7月25日~2014年8月1日
                </span>
            </p>
            <a class="button">
                <span class="border">

                </span>
                试试手气<span>抽折扣</span>
            </a>
        </div>

    </div>
    <div class="herolist_wrapper">
        <ul>
            <li id="level1">
                <div class="title">
                    <span class="common_avatar_item"></span>
                    <p class="name">
                        <label>未知英雄</label>
                        <span>专区</span>
                    </p>
                    <p class="hint">请选择一款皮肤购买<span>8</span>折</p>
                </div>
                <ul class="merchandiselist">
                    <li name="level1">
                        <a>
                            <div class="merchandisepic">
                                <span class="unknown">
                                    <label></label>
                                </span>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <span class="unknown">
                                    <label></label>
                                </span>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <span class="unknown">
                                    <label></label>
                                </span>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <span class="unknown">
                                    <label></label>
                                </span>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <span class="unknown">
                                    <label></label>
                                </span>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <span class="unknown">
                                    <label></label>
                                </span>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                </ul>
                <div class="dash">
                    <div class="segment"></div>
                    <div class="segment"></div>
                </div>
            </li>
            <li id="level2">
                <div class="title">
                    <span class="common_avatar_item">
                        <img src="image/static/avatar/js.png"/>
                    </span>
                    <p class="name">
                        <label>无极剑圣 易</label>
                        <span>专区</span>
                    </p>
                    <p class="hint">请选择一款皮肤购买<span>8</span>折</p>
                </div>
                <ul class="merchandiselist">
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                </ul>
                <div class="dash">
                    <div class="segment"></div>
                    <div class="segment"></div>
                </div>
            </li>
            <li id="level3">
                <div class="title">
                    <span class="common_avatar_item">
                        <img src="image/static/avatar/gl.png"/>
                    </span>
                    <p class="name">
                        <label>德玛西亚之力 盖伦</label>
                        <span>专区</span>
                    </p>
                    <p class="hint">请选择一款皮肤购买<span>8</span>折</p>
                </div>
                <ul class="merchandiselist">
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="merchandisepic">
                                <img src="image/static/thumbnail_1_00000.jpg"/>
                                <div class="pricetag">
                                    <div class="content">
                                        <p>恶魔之刃 泰达米尔</p>
                                        <p>原价：99.00Q币</p>
                                        <p class="presentprice">现价：？？Q币</p>
                                    </div>
                                    <span class="bg"></span>
                                </div>
                            </div>
                            <div class="title">
                                <span class="arrow"></span>
                                <label>购买此装备</label>
                            </div>
                        </a>
                    </li>

                </ul>
                <div class="dash">
                    <div class="segment"></div>
                    <div class="segment"></div>
                </div>
            </li>
        </ul>
    </div>
    <div class="herolistindex_wrapper">
        <a class="gototop" id="gototop"></a>
        <ul>
            <li class="active">
                <a>
                    <div class="unknown"></div>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/js.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
            <li>
                <a>
                    <img src="image/static/avatar/gl.png"/>
                </a>
            </li>
        </ul>
    </div>
    <div class="rules">
        <h1>活动规则</h1>
        <ul>
            <li>
                <span>1</span>
                每位召唤师拥有一次抽折扣的机会，<label>使用钥匙获得额外一次</label>抽折扣的机会。
                <a>查看钥匙说明</a>
            </li>
            <li>
                <span>2</span>
                每位召唤师每一栏<label>只能选择一款</label>皮肤购买。
            </li>
            <li>
                <span>3</span>
                召唤师们可以<label>自由选择大区</label>发放，但是不可赠送给他人。
            </li>
            <li>
                <span>4</span>
                在法律允许的范围内，腾讯公司拥有对此活动的解释权。
            </li>
        </ul>
    </div>
    <div class="footer">
        <ul>
            <li>
                <a>关于腾讯游戏</a>
            </li>
            <li>
                <a>服务条款</a>
            </li>
            <li>
                <a>广告服务</a>
            </li>
            <li>
                <a>腾讯游戏招聘</a>
            </li>
            <li>
                <a>腾讯游戏客服</a>
            </li>
            <li>
                <a>商务合作</a>
            </li>
            <li>
                <a>网站导航</a>
            </li>
        </ul>
        <p class="copyright">
            COPYRIGHT © 1998 – 2014 TENCENT. ALL RIGHTS RESERVED.
        </p>
        <p>2014 腾讯公司 版权所有
        </p>
    </div>
</div>
</body>
<script>
	(function () {
		window.onload = function () {
			window.getElementsByClassName = function (classNames) {
				classNames = classNames.replace(/^./, '');
				var classObj = [];
				var classIndex = 0;
				var tags = document.getElementsByTagName("*");
				for (var i in tags) {
					if (tags[i].nodeType === 1) {
						if (tags[i].getAttribute("class") === classNames) {
							classObj[classIndex] = tags[i];
							classIndex++;
						}
					}
				}
				return classObj;
			};
			var index = {
				listScrollTop: 0,
				onScroll: function () {
					var result = 0;
					var offset = 500;
					var listEl = getElementsByClassName('.herolistindex_wrapper')[0];
					var heroListEl = getElementsByClassName('.herolist_wrapper')[0];
					var heroListLength = heroListEl.children[0].children.length - 1;
					var listScrollTop = 0;

					window.onscroll = function () {
						if (document.body.scrollTop - offset <= 0) {
							listScrollTop = 0
						} else {
							listScrollTop = document.body.scrollTop - offset
						}
						this.listScrollTop = listScrollTop;
						if (listScrollTop > 470 * heroListLength) {
							listScrollTop = 470 * heroListLength
						}
						var level = Math.floor(listScrollTop / 470);
						if (result !== level) {
							result = level;
							var length = listEl.childNodes[3].children.length;
							for (var index = 0; index < length; index++) {
								listEl.childNodes[3].children[index].className = ''
							}
							console.log(result)
							listEl.childNodes[3].children[result].setAttribute('class', 'active')
						}
						this.listScrollTop = document.body.scrollTop;
					}
				},
				rePosition: function () {
					var that = this;
					var heroListLEl = getElementsByClassName('.herolistindex_wrapper')[0].children[1].getElementsByTagName('li');
					console.log(heroListLEl);

					for (var i = 0; i < heroListLEl.length; i++) {
						heroListLEl[i].onclick = function (ev) {
							var index = i;
							return function () {
								if (document.getElementById("level" + Number(index + 1))) {
									that.goTo(470 * index + 500)
								}
							}
						}(i)
					}
				},
				goTo: function (range) {
					range = (typeof range === 'undefined') ? 0 : range;
					var period = 5;
					var listScrollTop = document.body.scrollTop;
					var timer = function () {
						setTimeout(function () {
							if (listScrollTop > range) {
								if (Math.abs(listScrollTop - range) < 30) {
									listScrollTop -= Math.abs(listScrollTop - range);
								} else {
									listScrollTop -= 30;
								}
							} else if (listScrollTop < range) {
								if (Math.abs(listScrollTop - range) < 30) {
									listScrollTop += Math.abs(listScrollTop - range);
								} else {
									listScrollTop += 30;
								}
							}
							document.body.scrollTop = document.documentElement.scrollTop = listScrollTop;
							if (listScrollTop - range !== 0) {
								timer()
							}
						}, period)
					};
					timer();
				},
				goTop: function (range) {
					range = (typeof range === 'undefined') ? 0 : range;
					var that = this;
					console.log(range)
					var goTopEl = getElementsByClassName('.gototop')[0];
					goTopEl.onclick = function () {
						that.goTo()
					}
				},
				animation: function () {
					var sologenEl = getElementsByClassName('.sologen')[0].children[0].children;
					setTimeout(function () {
						for (var i = 0; i < sologenEl.length; i++) {
							sologenEl[i].className = sologenEl[i].className + ' active'
						}
					}, 500);

					console.log(sologenEl)

				},
				init: function () {
					this.onScroll();
					this.rePosition();
					this.goTop();
					this.animation();
				}
			};
			index.init();
		}
	})()
</script>
</html>